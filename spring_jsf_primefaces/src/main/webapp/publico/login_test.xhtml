<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title><ui:insert name="titulo">Caixaki</ui:insert></title>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
	<h:outputStylesheet name="login.css" library="css" />
	<h:outputScript name="scripty.js" library="javascript" />
	

</h:head>
<h:body>

	<div id="imagemLogin">
		<h:graphicImage library="img" name="logocaixaaqui.png" styleClass="bordaImagem" />
	</div>
	
	<div id="keysLogin" >
		<h:graphicImage library="img" name="keys.png" styleClass="bordaImagem" />
	</div>
	
	<div id="formLogin">
		<br/>
		<h:panelGroup rendered="#{!empty param.login_error}">
			<h:outputLabel rendered="#{SPRING_SECURITY_LAST_EXCEPTION.message == 'Bad credentials'}">
				<span class="estiloSpan">
					Permissão Negada, login e/ou senha inválida.
				</span>
			</h:outputLabel>
			
			<h:outputLabel rendered="#{SPRING_SECURITY_LAST_EXCEPTION.message == 'Maximum sessions of 1 for this principal exceeded'}">
				<span class="estiloSpan">
					Você está logado em outra sessão.
				</span>
				<h:commandButton value="Encerrar" 
					style="height: 40px; width: 100px; background:#CDCDC1; border:1px;" 
					onclick="invalidarSession('#{request.contextPath}','/publico/invalidateSession');" />
			</h:outputLabel>
			
		</h:panelGroup>
		
		
	</div>
	
	
	<!-- 
	<div class="container" id="container">
		<div class="form-container sign-up-container">
			<form action="#">
				<h1>Criar Cadastro</h1>
				
					<input id="txtCadName" 			type="text" placeholder="Nome" />
					<input id="txtCadEmail" 		type="email" placeholder="Email" />
					<input id="txtCadPassword" name="txtCadPassword"		type="password" placeholder="Senha" />
					//<i id="toggleCadPassword" class="bi bi-eye-slash"></i>
					<input id="txtCadConfPassword" name="txtCadConfPassword"	type="password" placeholder="Confirme a senha" />
					//<i id="toggleCadConfPassword" class="bi bi-eye-slash"></i>
				<button id="btnCadastrar">Cadastrar</button>
			</form>
		</div>
		<div class="form-container sign-in-container">
			<form action="#">
				<h1>Login</h1>
				<main>
					<input id="txtLogEmail" 		type="email" placeholder="Email" />
					<input id="txtLogPassword" name="txtLogPassword"		type="password" placeholder="Senha" />
					<i id="toggleLogPassword" class="bi bi-eye-slash"></i>
				</main>
				<a href="#">Esqueceu a senha?</a>
				<button id="btnLogar">Entrar</button>
			</form>
		</div>
		<div class="overlay-container">
			<div class="overlay">
				<div class="overlay-panel overlay-left">
					<h1>Bem-vindo de volta!</h1>
					<p>Clique aqui para digitar suas informações de acesso</p>
					<button class="ghost" id="signIn">Entrar</button>
				</div>
				<div class="overlay-panel overlay-right">
					<h1>Não possui cadastro?</h1>
					<p>Digite seus dados e comece sua jornada conosco</p>
					
					<button class="ghost" id="signUp">Quero me cadastrar</button>
				</div>
			</div>
		</div>
	</div>
	 -->
	<!-- 
 	
	<script>
    // SLIDE ALTERNAR LOGIN/CADASTRAR
    const signUpButton = document.getElementById('signUp');
    const signInButton = document.getElementById('signIn');
    const container = document.getElementById('container');

    if(signUpButton){
      signUpButton.addEventListener('click', () => {
          container.classList.add("right-panel-active");
      });
    }

    if(signInButton){
      signInButton.addEventListener('click', () => {
          container.classList.remove("right-panel-active");
      });
    }

    // ICONE OLHO OCULAR/EXIBIR SENHA
    // senha login
    const toggleLogPassword = document.querySelector("#toggleLogPassword");
    const logPassword = document.querySelector("#txtLogPassword");

    toggleLogPassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = logPassword.getAttribute('type') === 'password' ? 'text' : 'password';
        logPassword.setAttribute('type', type);
        // toggle the eye / eye slash icon
        this.classList.toggle('bi-eye');
    });
    
	//senha cadastro
    const toggleCadPassword = document.querySelector("#toggleCadPassword");
    const cadPassword = document.querySelector("#txtCadPassword");
    
    toggleCadPassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = cadPassword.getAttribute('type') === 'password' ? 'text' : 'password';
        cadPassword.setAttribute('type', type);
        // toggle the eye / eye slash icon
        this.classList.toggle('bi-eye');
    });
    
  	//senha cadastro confirm
    const toggleCadConfPassword = document.querySelector("#toggleCadConfPassword");
    const cadConfPassword = document.querySelector("#txtCadConfPassword");
    
    toggleCadConfPassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = cadConfPassword.getAttribute('type') === 'password' ? 'text' : 'password';
        cadConfPassword.setAttribute('type', type);
        // toggle the eye / eye slash icon
        this.classList.toggle('bi-eye');
    });
    
	</script>
 	-->	 

</h:body>
</html>